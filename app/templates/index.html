<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Аудіо Транскрипція</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Аудіо Транскрипція</h1>

    <div class="tabs">
        <div class="tab active" data-tab="file-upload">Файл</div>
        <div class="tab" data-tab="url-upload">URL</div>
        <div class="tab" data-tab="reconstruct">Реконструкція</div>
    </div>

    <!-- File Upload Form -->
    <form id="upload-form" class="tab-content active" enctype="multipart/form-data">
        <label for="file">Оберіть MP3 Файл:</label>
        <input type="file" id="file" name="file" accept=".mp3" required><br><br>
        <label for="lang">Мови (через кому, замовчування: Ukrainian):</label>
        <input type="text" id="lang" name="lang" value="Ukrainian"><br><br>
        <label for="keywords">Ключові слова (через кому):</label>
        <input type="text" id="keywords" name="keywords" value="Київ,Харків,Одеса"><br><br>
        <label for="confidence_threshold">Поріг довіри (замовчування: 65):</label>
        <input type="number" id="confidence_threshold" name="confidence_threshold" value="65" min="0" max="100"><br><br>
        <label for="model">Моделька:</label>
        <select id="model" name="model">
            <option value="tiny">Крихітка</option>
            <option value="base">Базова</option>
            <option value="small">Маленька</option>
            <option value="medium">Середня</option>
            <option value="large">Велика</option>
            <option value="large-v2">Велика v2</option>
            <option value="large-v3">Велика v3</option>
            <option value="large-v3-turbo">Велика v3 Turbo</option>
            <option value="turbo">Турбо</option>
        </select><br><br>
        <button type="submit">Завантажити</button>
    </form>

    <!-- URL Form -->
    <form id="url-form" class="tab-content" enctype="application/json">
        <label for="file_url">URL MP3 файлу:</label>
        <input type="url" id="file_url" name="file_url" required placeholder="https://example.com/audio.mp3"><br><br>
        <label for="url_lang">Мови (через кому, замовчування: Ukrainian):</label>
        <input type="text" id="url_lang" name="url_lang" value="Ukrainian"><br><br>
        <label for="url_keywords">Ключові слова (через кому):</label>
        <input type="text" id="url_keywords" name="url_keywords" value="Київ,Харків,Одеса"><br><br>
        <label for="url_confidence_threshold">Поріг довіри (замовчування: 65):</label>
        <input type="number" id="url_confidence_threshold" name="url_confidence_threshold" value="65" min="0" max="100"><br><br>
        <label for="url_model">Моделька:</label>
        <select id="url_model" name="url_model">
            <option value="tiny">Крихітка</option>
            <option value="base">Базова</option>
            <option value="small">Маленька</option>
            <option value="medium">Середня</option>
            <option value="large">Велика</option>
            <option value="large-v2">Велика v2</option>
            <option value="large-v3">Велика v3</option>
            <option value="large-v3-turbo">Велика v3 Turbo</option>
            <option value="turbo">Турбо</option>
        </select><br><br>
        <button type="submit">Транскрибувати</button>
    </form>

    <!-- Reconstruction Form -->
    <form id="reconstruct-form" class="tab-content" enctype="application/json">
        <label for="reconstruction_text">Текст для реконструкції:</label>
        <textarea id="reconstruction_text" name="reconstruction_text" required placeholder="Вставте транскрибований текст тут..."></textarea><br><br>
        <label for="reconstruction_template">Шаблон реконструкції:</label>
        <textarea id="reconstruction_template" name="reconstruction_template" required placeholder="Опишіть формат або структуру для реконструкції..."></textarea><br><br>
        <label for="max_length">Максимальна довжина (замовчування: 1500):</label>
        <input type="number" id="max_length" name="max_length" value="1500" min="50" max="5000">
        <label for="model_id">Моделька:</label>
                <select id="model_id" name="model_id">
            <option value="google/gemma-2-2b-it">Gemma2 -2B</option>
            <option value="google/gemma-2-9b-it">Gemma2 -9B</option>
        </select><br><br>
        <button type="submit">Реконструювати</button>
    </form>

    <h2>Результат</h2>
    <p id="loading" class="loading">Обробка запиту...</p>
    <div id="result"></div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>